<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="date" content="2024-01-31" />

<title>Capture melt</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Capture melt</h1>
<h4 class="date">2024-01-31</h4>



<div id="capture-melt" class="section level1">
<h1>Capture melt</h1>
<p>This vignette explains how to use functions for “melting” wide data tables, i.e. converting to tall/long data tables. To clarify the discussion we introduce the following three terms:</p>
<ul>
<li>Reshape columns contain the data which are present in equal amounts in the input and output, but in fewer columns in the output. These are <code>measure.vars</code> in reshape2/data.table.</li>
<li>Copy columns contain data which are copied from a single row of the input into several rows of the output. These are <code>id.vars</code> in reshape2/data.table.</li>
<li>Capture columns are only present in the output, and contain data extracted from the names of the input reshape columns, using a capturing regular expression.</li>
</ul>
<p>The <code>nc</code> functions use <code>data.table::melt</code> internally:</p>
<ul>
<li><code>nc::capture_melt_single</code> is useful when you have a wide data table with lots of columns, all of the same type, that you would like to melt/reshape into a single result/output column. This uses <code>melt</code> with a character vector for <code>measure.vars</code>.</li>
<li><code>nc::capture_melt_multiple</code> is useful when you have a wide data table with columns of possibly different types that you would like to melt/reshape into multiple result/output columns. This uses <code>melt</code> with a list for <code>measure.vars</code>.</li>
</ul>
<p>Both are useful when you want to use a regular expression to specify both (1) the set of input columns to reshape and (2) some information to extract from those column names.</p>
<div id="reshaping-several-input-columns-into-a-single-output-column" class="section level2">
<h2>Reshaping several input columns into a single output column</h2>
<p>Sometimes you want to melt a “wide” data table which has several distinct pieces of information encoded in each column name. One example is the familiar iris data, which have flower part and measurement dimension encoded in each of four column names:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">head</span>(iris)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="co">#&gt; 1          5.1         3.5          1.4         0.2  setosa</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="co">#&gt; 2          4.9         3.0          1.4         0.2  setosa</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="co">#&gt; 3          4.7         3.2          1.3         0.2  setosa</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="co">#&gt; 4          4.6         3.1          1.5         0.2  setosa</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a><span class="co">#&gt; 5          5.0         3.6          1.4         0.2  setosa</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a><span class="co">#&gt; 6          5.4         3.9          1.7         0.4  setosa</span></span></code></pre></div>
<p>Those four reshape column names can be specified via a regex in <code>nc::capture_melt_single</code>. The first argument is the input data table to reshape, and the subsequent arguments are interpreted as a pattern which is passed to <code>nc::capture_first_vec</code>. Any input column names which match the specified regex will be passed as <code>measure.vars</code> to <code>melt</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>(iris.tall &lt;-<span class="st"> </span>nc<span class="op">::</span><span class="kw">capture_melt_single</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>  iris,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>  <span class="dt">part=</span><span class="st">&quot;.*&quot;</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>  <span class="st">&quot;[.]&quot;</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>  <span class="dt">dim=</span><span class="st">&quot;.*&quot;</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>  <span class="dt">value.name=</span><span class="st">&quot;cm&quot;</span>))</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="co">#&gt;        Species   part    dim    cm</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a><span class="co">#&gt;         &lt;fctr&gt; &lt;char&gt; &lt;char&gt; &lt;num&gt;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a><span class="co">#&gt;   1:    setosa  Sepal Length   5.1</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a><span class="co">#&gt;   2:    setosa  Sepal Length   4.9</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a><span class="co">#&gt;   3:    setosa  Sepal Length   4.7</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a><span class="co">#&gt;   4:    setosa  Sepal Length   4.6</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a><span class="co">#&gt;   5:    setosa  Sepal Length   5.0</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a><span class="co">#&gt;  ---                              </span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a><span class="co">#&gt; 596: virginica  Petal  Width   2.3</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a><span class="co">#&gt; 597: virginica  Petal  Width   1.9</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a><span class="co">#&gt; 598: virginica  Petal  Width   2.0</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a><span class="co">#&gt; 599: virginica  Petal  Width   2.3</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a><span class="co">#&gt; 600: virginica  Petal  Width   1.8</span></span></code></pre></div>
<p>Note the output above has one copy column (Species), two capture columns (part, dim), and one reshape column (cm). Internally the function joins the result of <code>nc::capture_first_vec</code> (on column names) to the result of <code>melt</code> (on the data).</p>
<p>The reshaped data can be plotted with different parts on rows and different dimensions on columns:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="cf">if</span>(<span class="kw">require</span>(ggplot2)){</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>  <span class="kw">ggplot</span>()<span class="op">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">theme</span>(<span class="dt">panel.spacing=</span>grid<span class="op">::</span><span class="kw">unit</span>(<span class="dv">0</span>, <span class="st">&quot;lines&quot;</span>))<span class="op">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">facet_grid</span>(part <span class="op">~</span><span class="st"> </span>dim)<span class="op">+</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(cm, <span class="dt">fill=</span>Species), <span class="dt">data=</span>iris.tall)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true"></a>}</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true"></a><span class="co">#&gt; Le chargement a nécessité le package : ggplot2</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true"></a><span class="co">#&gt; Warning: le package &#39;ggplot2&#39; a été compilé avec la version R 4.4.0</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="reshaping-several-input-columns-into-multiple-output-columns" class="section level2">
<h2>Reshaping several input columns into multiple output columns</h2>
<p>We could instead use <code>capture_melt_multiple</code> to get multiple output columns. Like <code>capture_melt_single</code>, the first argument of <code>capture_melt_multiple</code> is the subject data table and the following arguments form a pattern which is matched to the input data column names. However the pattern must have at least two groups:</p>
<ul>
<li>One group must be named <code>column</code>. This group is used to capture the part of the input column names which will be used for the output column names. The output will contain one column for each unique value captured in this group.</li>
<li>One or more other groups (with any names) specify an identifier for each observation.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>(iris.part.cols &lt;-<span class="st"> </span>nc<span class="op">::</span><span class="kw">capture_melt_multiple</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>  iris,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>  <span class="dt">column=</span><span class="st">&quot;.*&quot;</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>  <span class="st">&quot;[.]&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>  <span class="dt">dim=</span><span class="st">&quot;.*&quot;</span>))</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a><span class="co">#&gt;        Species    dim Petal Sepal</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a><span class="co">#&gt;         &lt;fctr&gt; &lt;char&gt; &lt;num&gt; &lt;num&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a><span class="co">#&gt;   1:    setosa Length   1.4   5.1</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a><span class="co">#&gt;   2:    setosa Length   1.4   4.9</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a><span class="co">#&gt;   3:    setosa Length   1.3   4.7</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a><span class="co">#&gt;   4:    setosa Length   1.5   4.6</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a><span class="co">#&gt;   5:    setosa Length   1.4   5.0</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a><span class="co">#&gt;  ---                             </span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true"></a><span class="co">#&gt; 296: virginica  Width   2.3   3.0</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true"></a><span class="co">#&gt; 297: virginica  Width   1.9   2.5</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true"></a><span class="co">#&gt; 298: virginica  Width   2.0   3.0</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true"></a><span class="co">#&gt; 299: virginica  Width   2.3   3.4</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true"></a><span class="co">#&gt; 300: virginica  Width   1.8   3.0</span></span></code></pre></div>
<p>Note that the reshaped table above contains one copy column (Species), one capture column (dim), and two reshape columns (Petal, Sepal). We can plot these data to see whether or not sepals are bigger than petals:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="cf">if</span>(<span class="kw">require</span>(ggplot2)){</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>  <span class="kw">ggplot</span>()<span class="op">+</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">theme</span>(<span class="dt">panel.spacing=</span>grid<span class="op">::</span><span class="kw">unit</span>(<span class="dv">0</span>, <span class="st">&quot;lines&quot;</span>))<span class="op">+</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">facet_grid</span>(dim <span class="op">~</span><span class="st"> </span>Species)<span class="op">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">coord_equal</span>()<span class="op">+</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_abline</span>(<span class="dt">slope=</span><span class="dv">1</span>, <span class="dt">intercept=</span><span class="dv">0</span>, <span class="dt">color=</span><span class="st">&quot;grey&quot;</span>)<span class="op">+</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a>      Petal, Sepal),</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true"></a>      <span class="dt">data=</span>iris.part.cols)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true"></a>}</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAEgCAMAAABM0+oCAAAC/VBMVEUAAAABAQECAgIDAwMEBAQFBQUGBgYHBwcJCQkKCgoLCwsMDAwNDQ0ODg4PDw8QEBARERESEhITExMUFBQVFRUWFhYXFxcYGBgZGRkaGhobGxscHBwdHR0eHh4fHx8gICAhISEiIiIjIyMkJCQlJSUmJiYnJycoKCgpKSkqKiorKyssLCwtLS0uLi4vLy8wMDAxMTEyMjIzMzM0NDQ1NTU2NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+Pj4/Pz9AQEBBQUFCQkJDQ0NERERFRUVGRkZHR0dISEhJSUlKSkpLS0tMTExNTU1OTk5PT09QUFBRUVFSUlJTU1NUVFRVVVVWVlZXV1dYWFhZWVlaWlpbW1tcXFxdXV1eXl5fX19gYGBhYWFiYmJjY2NkZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmKioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJydnZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+wsLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLDw8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7///+jMlc1AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2dCXgURdqAx+Nff9fdX9F1PUDxYj0QZQMo6oIguusqeHAfgsoVbi9EVwSRY1VYVBBUzoh4LohCOETJkIAhieEIR5JBQYEYAp25J8nkmn7+Pme6qjvdXZPuapLne5+HpL/qqq6aOK/TR31TLhYAgCaLy+kBAACQPCAwADRhQGAAaMKAwADQhAGBAaAJAwIDQBMGBCYgb5JjvOBYzwsd6/klp/97NwVAYALWfexxiPHDneo5ffIWp7oe4fR/76YACEwACEwVENgEIDABIDBVQGATgMAEgMBUAYFNAAITAAJTBQQ2AQhMAAhMFRDYBCAwASAwVUBgE4DABCQrcNHAxr6XGyHw2gfReEMPouZkAqOdJSJ8EKYAgU0AAhOQrMCFrZNrlyAZgQ+Jv/ZgAiICHzI8CpnAYmeHkEhrEKYAgU0AAhNAInDh0ze3nePxfHJ3++EH+17Z3bOo461PF8il09u3eXAXyXvZjMAPLfJ4Jr4o9ujZ8PiEnmJnX3Mffgs6tnu2UBoCL7C0xdUxPKpZgcXeuc6Eoy5of+fEYXzXmx7s1+7BjYpBELx0ENgEIDABJAIvur9g6zUFOW22FD49hvsEzrjl+8KBk6XSbddnHRo8zfyxzAk8Z6jH02Gz2KNnwzXzCsXOOHe23L4jp/On0hA4geUtro7hUc0KLPbOC8wd1d0+O7ejKPAVi4onDPXEB0Hy0kFgE4DABJAI/EmndcUez/wB3DnrTZzAM8dxLnSWSgvzPTlDXjB/LHMCZ91Y9G0nqUfPhnbyEDh3Xp7ClX0rDYETWN5qZ6JnswKLvfMCc0ed8azHM1UU+LpCz+reiUGQvHQQ2AQgMAFEp9BTbr9liudfbbt06dKVE/iZGR7Pj22k0sIJt/V4wHKBPX9bN13u0bOhuzwEzp2R8/jd0hA4geWt7iYOavoaWOidF5g76oTZHs87osD3ejyf9U4MguSlg8AmAIEJIBF4Z65nY8o3c8d7PAUbOIFf5zY23ymVLnxgt2eG9QK/NOX+LR6xR+FKV+yMc+fFVzyeLz6VhsDtSWwZY1pgoXdeYO6orz7H/RMF7iYLLA6C5KWDwCYAgQkgEfjVvvm7O36R1XbLodThha2KvmvrLnziOal0dr+ivLufMX8skwJv6NCZO5UVehQ1Ejrj3PkmZdePdy+VhsDtSWwZY1pgoXdJ4C3tc3bfiQksDoLkpYPAJgCBCSARePdjbdq+6PEs6XRzn3zPI3d5FnZs9+Q+qTR/UMeH57XdYP5gJh8j3c5dZko98hqJnfE3gOemtJ1YLA2B35PYMsT8YyS+d0lgzxvtuj83GhVYHATJSweBTQACEwAzsUyyaYqn+ImFje0aBDYBCEwACGySwkn33ftMUWO7BoFNAAITAAJTBQQ2AQhMAAhMFRDYBCAwASAwVUBgE4DABIDAVAGBTQACG5A1YtDcKml73WPDHKL7A0713HdyP6e6/oej/+GbCCCwPv7eB0KvfCoF6waMSR2ROgZhNB6PQOMxI/FYVYDFI0ajceqoMWPu/2cyDfEYH/soPNYY+xPThnKvKYmGaDwKGwoe42MfzcUPd9f0egh8X7QCEFifQu48bv0bUrBuG1vH1KAVKvGYwY4QxGNVARaXV6JxTQXLvjyRZQNGDRm8IR4zdWhBpBaNK7zqHvZPK2SrVQ3x2GcwNH8YjevxmInyvw7nyyc7US4eO0nzzDoPBFYAAutTMST71IsbuY2aBQsWzNkUCTOhCEIAjxk0jnix2OczqFAeQOOQPxKZPI6rZ9SQwRviMRNGC/z42MvVPeS+vjsSxF+0Hz8QPhRV7EfjMPZawkwwEint6nJdvVksCHLxaBDYGBDYgLU9+6Tynw7RXr16jfvG52O8PgQvFpczPqwAj1UFWKzVw/NjuHLDhlgBPjQvPjTDCtwBf5idw5XjFfF6RkMzqiD0MNLF0bIsPrRRILAxILA++0aUVa+YKQVwCi03tOUUui0vsGuvUACn0CYBgfX5eDHLlvSVAhBYbmi5wHOvb9EzRRA45ZyzL7/hom55ILApQGB9cp86XrVkqhSAwHJDqwX+lFf3cv7HH1wiV3tBYDOAwAase3rwTNlJEFhuaLXAvQRpX+50000umTUgsBlAYAJAYLmh1QL3EJz9nv087q/rYxDYDCAwASCw3NBqgecJZ81BdlJC4OMgsBlAYAJAYLmh1QJX3+5ynbeMZecI7p7jcrX8Em5imQIEJgAElhtaLfCHvLdXLNp+/Cr+UbC/8mgFPEYyBwhMAAgsN7Ra4Ael8+aeB4fenXqchefApgGBCQCB5YZWCrx3cNexV8lXvh9JhSCwSUBgApwT+KXmK/ABl5KJUikv8BgQ2BgQmADHBK5NdUzgjFdsFngSIvB/pFJO4OohILAxIDABTglcu3uExQIffGthiSmBf1s51WaB+yv9vbZcKo1GozmDQWBjQGACHBI4lJ/5grUCf8TLssuEwKXuDXafQr+d0PefL52US6Ph3J2QTmgCEJgAZwSuzMv0W3sTq/4yYdZx27HYWFUCH3EXFdgicOi52zot9k5oe9fq0qcvkP1drqgQztkZgZtYJgCBCfjvhkCA8QcQfHjMoHHAi8XleAEeMz50d872ksALY7mG5UYNsQK/D4vlsR+UlbkXHbwP6+GIu8CfPTOPe03Yi/TisdHQ8Bf9uHC+zP+4UhrKXZ8VK19K9o6yAHwCmwAEJsCJT+Da/Mwyqx8j1cZPWo8iFbBP4FL3/pg9d6FDLpwW+cr91bk7fPAYyRQgMAEOCMz5y1j7HDhvykt5/5G9WY9UQAUudRcFbHqMdFwlsKurYnd17k4fPAc2BwhMAH2BOX/91k7k+IS35Ym4Nz8qKyACc/7GbHsO3EZtcHV8J+dvBCZymAQEJoC6wLy/Fs/EugrV5iFlBaXAvL/2TeTI/RPu76UxeR/vL8zEMgsITABtgQV/rRW4CvOmjbKCQmDBXxtnYj2LCzxJ3iX4CwKbBQQmgLLAor/WClx/DurNY8oKCYFFf+0TeNvFQu+3xscxLCTtEf0Fgc0CAhNAV2DJX2sF/jnh7jjuX8tDygpxgSV/bRM4dg3+AZwdFfdI/oLAZgGBCaAqsOyvpQL/0iquzGI2a9q7p5EKssCyv7YJfFh1C+ttUWDZXxDYLCAwATQFjvtrqcCTE8rc0MLVpQitIAkc99cmgbffqvLX5bp8MavwFwQ2CwhMAEWBE/5aKnA/1JpbUBFFgRP+2iPw/ks0/OXYqPAXBDYLCEwAPYEV/loq8AxMGuQSWBRY4a8tAmderFJXvCIeofAXBDYLCGxA2dRBU+V3HzWBlf5aJvDhp+4a9yKmzkGkBi+w0l9bBL5Z/dk7X/j5lMJfENgsILA+sdS82vdXSwEtgRF/rRL4BD+F4wLUnBt/QUzkBEb8tUPgCrW/55UKv/6j8BcENgsIrM9e7t1SI789KQkcQvy1SuB/q81p7XJd/pGiSoUX9deWT+D4HKyB8XFEM250Xfq80l8Q2CwgsD6b5rw5er48yYCOwKfyEH+tEvhxXN+z0oVfBYkqFT+h/toi8F+k7lt4hskjKWHrj+Qg/oLAZgGB9fmy148V8+dyG9EhQ4Y8u97vZ3x+BC8eM2jsL8djr36F8pztJ5ACH9fghbHcDtWRsJjBjuxD4n9ItpwbN1hYTMz1eqLKT+4C9NVwPWTPyvX7DF+00dASL7os8X+Qb+c/ImQDt/b7T2fvOImOnetBzgfeIwMCqwGB9UmfzLKH+3Mb1VOmTHklPRRkAiEEf+DDO24ZdyIRM+j+kBePVQXo8XK3n0D3B/yh0OSxhg1DIcavbhjnRIr6FFpgXrzKUfe+oKqHnJn5oQCDlfvwuNxgaF5fvGqi57tCob3XulwtN4a8u7JOYmPn/syywFfIgMBqQGB98jiBjwySAs1T6OX8e/GB2OGC2tL8UKNPoWvzM49Z/b3Qx/ZUyMuHCafOqMC/yNVL3QfK0QPYcgo9NN7zOVxU+d1GH//890QUbaA8hb62UAIEVgMC61MzqCj27ttSoCnwPcKbsb3LdSH3K62RAvP3ny3+YvfqPi5Xq/W/JIzlc3FbCltPtXPdkSnXLnUXRWh8L3RozKWXthBHIpVw/oYYHYGvg2vghgGBDTgw/ok3dG9ioc81f26UwMLzI4sFniWM6yPsxLk19+/Gk4pvpeTvP1P6Yvc6+X6aGPLzN+pB4CQBgQnQFDhVOBuUxUhrjMDi81+LBb5PHNj5qMCPLBw9L6j4Wlnh+REdgevlhZDOF0Jh/hUInCwgMAGaAp/u4nKdHb+u/LoRAkvzNywWWPX4SCCF35UQWHz+S0fgbdIQzt7GR+L8SV2B12TN+9c7uSCwJiAwAdrPgevbJby4IZi8wPL8K4sFXq8p8H38rrjA0vwNOgJ/II6gpfDcV5r/rCvw0rbj2vZv8ykIrAUITIC2wMrk1h7J38SKz5+0enXCz7UEfpXfIwssz7+iI3CmMID2pfy2nL+gK3CnLZ4uns13g8BagMAEaAucqxRjfbICJ+Y/W7686FINgd/kd0gCx+dPUrqJxa+G9JcAvxXPP9IV+OZDnMCF7UFgLUBgArQFzlGK8VSSAivyF6xfH/jTxPjul26a83NTJIET858pCRz7ZtpS4atAEvmDugL3SS3osmH4cBBYCxCYAG2BkW8pn56cwMr8IxsW+JY/g89+ij0hGix8CaQgsCJ/gfL6wIr8X12B84dv6Hpj6gEQWAsQmIAGkhl6Jfw97730U1gjMwIj+YNWCRz8PK1U3q4uvFH43ws/YGHrAF/KC6zMP6IrsDJ/X1dgDBBYCQhMQAMCR+5RfgbfUYVWMCEwmv9rkcAHrnbxX1MjUSiMrQO/WTa+cz9xQQZOYCR/kKrASn/1Bd4kAgJrAQIToC3w1kfPU98fSmAsMOqvVQJ348fSasVDD08b0OO1sLggYQraIFKL5v/SFBjxV1/gbt263XvdFQ+CwFqAwARoCrwWv8HbD61gKLAP9dcqgVsox9S95ib+1+tog0gJmv9rv8BBKV2i3of4a3wKfWhRPxBYCxCYgK++j9Uy1TGEiq64wM+jFYIxLMYKanIzfUhBeQVaoToSi708IRYLqI6ExQzS8BZkULsPdXa5RlahDX5xF9Ujr8Wr7qFg+qFYlKlFyyN4jL4C9dD8Yf6nt5fLddcRfqty186wcn8dgw2tiouRa+DidiCwFiAwAWu08oFVC+3tN0iNVeX//oZWUKX1+pLKB0af/q4JhU55sbTeo+4CtMCvkdZrZT7wIH4knfhw145TyP6g6kUr8oE/41g9AU6hNQGBCdA8hR6q0IT/tovrsNNH/VNo7vr3N6yCVXehtw7unRYf2UlWscC3SKn7APZa7D6FvkwYipe/f4UuCaF/Ct2bZ2g6CKwFCEyApsAn0HNVl2sGWkFXYP7+lfpbKdG4Ec+B6+QxLRVixMNSd1G4Fm1gt8Diui4hPv8Xv6kFj5GSBAQmQEPg2t3F1diX1fRFG+kJLNx/tlFg8esvHlpXIsZKD/n7zxHKAj/Pj6aXkP9rXuDCzZ4t0yfOdIPAmoDABKgF3stdAXfAPoGx95eOwOLzIzsFDqVeeulYWRalwMLzI9oCR5+/7E/DSoX8X/MCT5ryZvvnZj3TfiEIrAUITIBaYGyZgT9y/1qVoo0aFlh6/munwGic8FB8/ktbYB4p/9e8wPd52u3ifmX/FQTWAgQmQCWwuKRA4lvipi8ZPb0Ya9SgwPL8DQcEluZvOCCwnP9rXuB7i7vv5rW9EwTWAgQmQCVwCP0A/meU4Fsp4/Ov6Assz7+iL3A8/9e8wM8Mfe7O6e+82nEiCKwFCEyA+hS6r9Lfh/kSswIn5k9SFzg+f5K6wIn8X/MCFy0cNUwABNYCBCZALXDo+Yvi/t4vvClNCqyY/0xb4MT8Z9oCK/J/iR4jCV8K3bewCARWAwIToPEYaXviA3ieUGBOYGX+AmWBFfkLlAVW5v+SCPxIq9YcV7YeCAKrAYEJ0BB4TkLgfUKBKYGR/CO6Aivzj+gKjOT/kgjcWViSoTucQmsBAhtSlS5vaQi8TNb3z8vEAjMCo/mDVAVG8gepCozm/5IIvGkTkhEMAisBgQ1ZMEre0hC4nF/i4KovDxZXSwUmBMbyf2kKjOb/0hQYy/8lEbhHjx7dr7uiW48eILAaENiIXZP0BGYLn7xzSKEiNhYYz/+lKDCW/0tRYDz/l3QudOHiCXAKrQUIbIBv4kFB4FgwGPxCIx+4Es8PZgxSY314/i9eQZUPXJFUPjDXsBKLD2P5v5EatIJ9+cCn8fzfMLrfRD5wBxBYCxBYn9j0vccEgStTUlKeXsc0mrKc7b+St3outfE9M4fde08TN8qak934nk9mZ50gbzVSEng1x6oxkA+sCQisT/oSVhS4bu3atW9vqapgIlUIITxm0LjKj0ThvO0ndCtUVZWH0DgSrKp6cVxVlc9n0JAJYg3RAx1z78XGGqhA42C5uof8GfuqwgxWEW8Y8OoOLZSzowzdXxnAYiaMFoS5OFUSuB/PkxtBYC1AYH3eHjCgX68BATFo4Fsp0Vj3GpjP3ze6lLXpGrjUfeg0fulK5xq4OnfnSa3vhVbGkA+cJCCwIcd0b2IRCSzk7zsjcKm7SO0hFYH5+8+aX+yujEHgJAGBDbFOYDF/3xGB+edHNY4ILDw/AoHtAgQmoJECS/n7TggsPP91RGDx+S8IbBcgMAGNE1jO33dAYHH+hhMCS/M3QGC7AIEJaJTA8fx9+gJL868cEFiefwUC2wUITEBjBE7k71MXWJ4/SV/g+PxJENguQGACGiGwIn+ftsDx+c/UBU7MfwaB7QIEJiB5gZX5+5QFTuQv0BZYkb8AAtsFCExA0gIj+ft0BVbkH1EWWJl/BALbBQhMQLICo/n7VAVW5g/SFRjJHwSB7QIEJiBJgbH8fZoCI/m/VAVG839BYLsAgQlITmA8f5+iwGj+Pk2BUX9BYNsAgQlISmBV/j49gX9F8/cpClyO+gsC2wYITMDaLdFKpiKKEMJjBo0jOZmnkQK/H60QxePyEBpXBKPRKeOjUZ9RQwZr+Kv7YBVyIKYSrRDEx16u7mH3jH3RiKohHnvROJy9w4cU+AJohSo8ZsLYEbg4FQQ2BgQmYC15PnA4b/spLFUWT+O1Kx/4mHt/JXogVVovNnbT+cBB/XzgUM4OLEHYh+f/kuQDg8A6gMAEkJ9Ca6zfTesUutR9qAI7EKVTaO76tww7EJxC2wUITACxwFrrd1MSmM//bXh1QhF7BObvX2l9L7QSENgqQGAFOQk095MKrLl+Nx2BhfxfRwQW7j+DwLQAgRUoFirT3E8osPb63VQEFvN/nRBYfH4EAtMCBFZQl0BzP5nADazfTUNgKf/XAYGl578gMC1AYC2YjprFRAI3tH43BYHl/F/6AsvzN0BgWoDAKPs6XsJx/s2aO0kEbnD9bvsFjuf/Uhc4Pv8KBKYFCIzSpeuqC9NWX12suZNA4IbX77Zd4ET+L22BE/MnQWBagMAoF7jZ3unsmr6aO80LrLN+t90CK/J/KQusmP8MAtMCBEb50zb2X2+xxy/W3GlaYL31u20WWJn/S1dgZf4CCEwLEBilZ7ejX3T0L71cc6dZgXXX77ZXYCT/l6rASP4RCEwLEBjlp5vmVd32O9fseMGu8YNePS1tmxRYf/1uWwVG839pCozmD4LAtACBcWJseP0P8ehUf0/VezOkwJzABut32ykwlv9LUWAs/xcEpgUIjBFckDpifkJAN/dZfGKQFJgSuMxg/W4bBcbzf+kJfBrL/wWBaQECoxy6+NJHe1/e4qAcV3HvtO2vcht133333Xsm8oH9qvzfKFbBtnzgw3j+L34g2/KBy/H8X3xokA9sFyAwSreHuI+tql7dFEVZw4pY0wt8J7d+tyFmFvhOav1uQ8ws8J3c+t2GjASBjQGBUS7Ywf/M/mO8IDRz0q/871hJScnq7+pqmGgdQgSJoz9m/orurwvgsaoAi8sjaBwN19W9NKGuzq/fsMS9N4w1xA/EVKMFISyOeNU97Jt+sK5Kv2Fl7o5S3aHV1flCaFyDx0wlWlDJxWNAYGNAYJTL1vA/190mxzXPLE9cVhpeA9fmZ5bpLvDN2nYNXOouOq27wLdt18DVuTsZ3QW+WbgGtg8QGGXJFWvKy9e02lQnJSRlvqzYaSQwf/9Zd4FvIbZFYP7+s+4C36xdAvP3n3UX+OYBge0CBEa55Gw5I7i1EC/vyRG/C/1q2opFy9MQlibiFbOnv5+2dBG6P+1DPFYVYPHipWi8nIsH9E9L+0Cn4cJpc1emLdJoiMSLVqAFS7B46WJ1D29Me0u34fKZM5akLXm/4aEJvL8EjVfi8aJlaMEyLu7fe54Ws0BgBSAwSuI7OfYKsb/3gdArn0o704ePHjVi1GiEUYqY3xw1At0/eiQeqwqwWNUDV2HYCP2Gwij0hibExhXUPYz490j918QfY6T1L5qLhw8cpsXQN517e5x5gMAY/mUz2YLEGWLhCJZd/4YUNG6BbzmmuTIDGjuwwLcEnELbBQiMcvzmP7vYO275VY4rhmSfenEjt1Gfm5u7ZGtNlKmsQQjjMYPGNQEs9uMFeFweRuNKLp4ynmvoN2jIaDREYiaKFoSq0DjsVfew57X9NRWqhnis0RDBF0TjaiyOMhVoQQUXw11oE4DAKA8NrjuXLen6WLxgbc8+qfyng8nnwDZh5jmwPZh5DmwT8BzYBCAwyh/y2HNZ9vsL5XjfiLLqFTNZs8+BuZgxeCRq13PgujoGb0jpOXBdXdhnMDR4DmwXIDBKyyxe4E2t5PjjxSxbIqf3wzWw3BCugc8UQGCUUd3857KFN4yT49ynjlctmSoFILDcEAQ+UwCBUQLd/sd12VmPJxYlWff04JmykyCw3BAEPlMAgXFyVn51uIFdILDcEAQ+UwCB1YRiDewAgeWGIPCZAgispGDAHjb8d9dFs7QVBoHlhiDwmQIIrGBfi+7F7KQ/zl9wwVLN/SCw3BAEPlMAgRUMHMWysUvmsOy8Tpr7QWC5IQh8pgACK7gui2X3uA6zrLuF5n4QWG4IAp8pgMAKLshk2bn8HI5vG/nF7kpAYBYEtg8QWMHtr7Js52HcxuvdNPc7J/B4xwTOmeqUwPXDQGBjQGAFH/z+tYGuzWzN+vNXaO53TGDPcKcEDq56xSGB6/cPAoGNAYEVxP597cVTWbbPWc9o73dKYE/GJIcEDmV94dApdOV+N2QjmQAEVnPweAM7HBL4UMYJh66BT2bl7XFG4Mp97tNwDWwCEJiAtZsiYSYUQQjgMYPGER8eqwqwuDyAxgczjkQmj4tEvEYNGaxhCI+ZMFrgx8dejsanMnMCua/vjgTxF+3HD+Q1GJrXj8ZhPGaC6FD3uI9HRoPAxoDABHzlRD5wccbPduUDh/XzgQNZu6q084HxhlbnA9cUuEsgH9gUIDABTpxCezJ+degxUigrz+vMY6T6/e7f4DGSOUBgAhwQ2JNxwqHnwJy/Nc48B+b8PQ3PgU0CAhNAX2DOX4cmcvD+OjORg/cXJnKYBQQmgLrAvL/OCCz464jAgr8gsFlAYAJoCyz464jAor9OCCz6CwKbBQQmgLLAor9OCCz564DAkr8gsFlAYALoCiz564DAsr/0BZb9BYHNAgITQFVg2V/6Asf9pS5w3F8Q2CwgMAE0BY77S13ghL+0BU74CwKbBQQmgKLACX9pC6zwl7LACn9BYLOAwATQE1jhL2WBlf7SFVjpLwhsFhDYgLKpg6bK7zZqAiv9pSsw4i9VgRF/QWCzgMD6xFLzat9fLQW0BEb8pSow6i9NgSsRf0Fgs4DA+uzl3i018tuTksCHEH9pClyC+ktR4FP7EH9BYLOAwPpsmvPm6PkhbqNmwYIFc5LJB1alyqpyZbG4IOMImhvrj2jnA+MNG50PXJqZgzbhekguH1gV4/m/2GsJ5ruPowXBCOQDmwEE1ufLXj9WzJ/LbUR79eo17hufj/H6ELxYXM74sAI8VhWg4f4Mj7qH58dwPRs0VFXAh+bFh4ZVKMnMPq3q4YfZOVxD/Ej4SIyGZlChPN99VD20USCwMSCwPumTWfZwfymgcQrtySh26GtlQ1k5p9Q90DiFrt/v/hm+VjY5QGB98jiBjwySAgoCezJOOPS90KGsvKAz3wvN+XvK+Huh3e88DQKrAYH1qRlUFHv3bSmwX2D+/rMzAvP3n535Ynf++ZH+F7sXfzt3yK2t7h0LAqsBgQ04MP6JN0LStu0CC8+PHBFYeH7kiMDC819dgfvfeOuAGWv2wym0FiAwAXYLLD7/dUJg8fmvEwKL8zd0Bb7/2sdnby6Ga2BNQGACbBZYmr/hgMDS/A0HBJbmX+mfQu9b9ey9bQfNywCB1YDABNgrsDz/ir7A8vwr+gLL8yeNFzfLe/7aK0BgNSAwAbYKHJ8/SV3g+PxJ6gLH5z8bCOyeN/Av90xaBQKrAYEJsFPgxPxn2gIn5j/TFjiRv6Ar8OiU9iPez4FrYE1AYAJsFFiRv0BZYEX+AmWBFflHugJ3vvqRKR/lgsCagMAE2CewMv+IrsDK/CO6AivzB/VPoXOXTujaqsMTc0BgNSAwAbYJjOQPUhUYyR+kKjCS/2t8E2vPqhfuB4HVgMAE2CUwmv9LU2A0/5emwGj+vq7AX4vsWQsCqwGBCbBJYNRfmgL70fxfigIH0fx9XYEfFNnyIAisBgQmwB6BD6D+UhT4FJa/T0/g2j1o/r7xKbTiiTAIrAAEJmBNeijIBEIIfjxm0DjkxWOs4GDGz2gB40fjgC8UmjxW3VB1ZLxhED8QE0TissxdPqTAX67uIWdmvqphyIfHGg3RGO0osMd9DB2q6kVzf9Z4Qv8X4weM+wIE1gQEJsCOT2BPxk9YBVqfwKGsHKwCrU9g7vr3ODuBz6cAAA6lSURBVLpf9xP4tfavvT/t9hkgsBYgMAE2CMxd/6q/1A6NbRI4lJUX0F3gm7VLYD7/V3eBbxYVuN0O7sf2W0FgLUBgAqwXmL9/5YzA/P1n3QW+pR6sF1jI/yURuGMB/xipIwisBQhMgOUCC/efHRFYeH7kiMBi/i+JwHPvn/fN0u5TtmwBgdWAwARYLbD4/MgJgcXnv04ILOX/kgjcTQYEVgMCE2CxwNLzXwcEluZvOCCwnP9LIjA8RtIBBCYgLvDWJ/qtjollyQssz9+gL7A8/4q+wPH8XyKBC3n6FhaBwGpAYAJkgT92cbwsliUtcHz+FXWB4/MnqQucyP8lEfiRVq05rmw9EARWAwITIAt8Cy+wq1ooS1bgxPxJ2gIn5j/TFliR/0sicOdC/md3OIXWAgQmQBS46IMLBIFFAZMUWDH/mbLAivwFygIr839JBN4kAwKrAYEJEARe5BK5SrwITk5gZf4CXYGV+Ud0BUbyf0kE7tGjR/frrujWowcIrAYENqQqXd7iBf5Q8te1USxLSmAk/4iqwEj+IFWB0fxf0rvQhYsnwCm0FiCwIQtGyVucwJ+J9l75yW9SWTICo/mDNAVG839pCozl/xI/RiruAAJrAQIbsWuSUuC/iQL/Pb47CYGx/F+KAgfQ/EGKAuP5vyQCr+ZYNeZBEFgLENgA38SDSoH/In0CP/C5VEYuMJ7/S0/g41j+Lz2BvXj+L4nA/Xie3AgCawEC6xObvveYIHB0yJAhz673D5YvgV1D/AJenx/By6CxvxyLCzIO61dgvGjs4+IXxnL18IpmGiopydyFDs7M2LNn5fp9DF4Rjw2G5s13/4KVYEPFe/BxMSzwbQIQWJ/0JawocPXs2bNf2xg+2kYW+Gx/mMcfDCP4GTQOe9HwYIZHv0K4PIDGQa6jyeO4enhFPGb86oYKyjKzfdhY8bGXq3vInZkfDjIhrCISh969/YbH/nZNz/yGhhbc4z6KHiCEjSTEYC86wMUgsAlAYH3eHjCgX68BATHg70L/dr5scI5QRngK7cn4yehM2KZT6FBW7kndBb6TPoVeLP1BWp9WNkxQv9/9i+4C3zAXOnlAYEOOKa+B636Mn0OL131kAvP5+84IHMrKq9Bd4JtNWuCO8l9kpebQ+PvPugt8syBw8oDAhqACvx8XuEwoIxJYyN93RGD++ZHuAt88SQocv6qYNWvsyjp8aMLzIxDYLkBgAjiBf4j76zoplJEILObvOyGw8PzXLoFHy3+Ry7l/PWPo0MTnvyCwXYDABHAC/z0h8P9128cSCSzl7zsgsDh/wy6B/d24Pwb3B7lP+LPsRIYmzd8Age0CBCaAE/gGl4LWXhKB5fx9ywWucW8Qbh81KLA0/8ougVn2QGb16R1f/1X4o6QphybPvwKB7QIEJoAT+BGlwK61BALH8/etFvhkW5er1TdswwLL8yftEzjiY4uvk/4muxVDi8+fBIHtAgQmgBP44O+VAn9iXuBE/r7VAj/Bj+SKaIMCx+c/2ydwYG7fK6U/yVDF0BLzn0FguwCBCeDvQv9VKXCJaYEV+fsWCxwV1cluSOBE/oJNAlfVsX0Tf5I/VsWHpshfAIHtAgQmgBd4eOK9+vsNrFmBlfn7lgp8rIc8muvSNQVW5B/ZIvAv97lcbVwK3paHpsw/AoHtAgQmgBf448Rb9V6+zJTASP6+pQJ3VqiTqyGwMn/QFoE7uTBGSQ2R/EEQ2C5AYAI4gX9SXANP5svMCIzm71sp8CmlOv9WC4zk/9ohcCnur+trsSGa/wsC2wUITAAnsOJqr52fLzMhMJa/b53AJ8ffqFTnTZXAaP6+9QKXjuuA+3uP2BD1FwS2DRCYAE7gi6T3aav30kU1jAXG8/ctE7jsZtSdfFUCP5r/a7nAkZtUn7+3iRX8qL8gsG2AwAR89X3sXPmduiImUlEdQ6hg0Dh2IOM4EgeDWAU8Lq9A4+pILPbyhFgsgFf8DFHn95sYrKE3Mw8ZXDVTi1aI1GBj96qHVjD9UCyqaijGa1X+ukYKO+r2uE8hDfxh9AB1eMxUoQVVXAwCmwAEJmDNxnBc4NcbyqnF8oEPZvyM5dhiqbBhPDadDzwfUactng9clrkLLVCl9fqM8oF9+vnAL6kFFnKCg3vcx9EG+IuGfGCrAIEJ4E6hr5ffqTukMoNTaPX63dadQmcj6qRiz4FDWbkh7EAWn0L/V+1vKz7Dg7v+/RU7EJxC2wUITAAn8P7zxHfqv+QyfYE11u+2SuDNXa9UqpPiRQXm8391F/hmGy3wVWqBXZPE50da3wutBAS2ChCYAP458Imr+ffpjHiZrsBa63dbJPBOVJxO9ehMLCH/116Bgxr+uu4Xnx+BwLQAgQkQVmY4NuCS6+fF4mV6Amuu322RwKMwc04gAov5v7YKXDdES+Cx4vMjEJgWIDABhOsDa6/fbZHAf8XM2a8UWMr/tVXgBVr+tjoqPj8CgWkBAhNAJnAD63dbJHAKak7rWoXAcv6vrQL3RgdwjvCzUHr+CwLTAgQmgEjghtbvtuUU+mL+prgscDz/11aBR2h9AudL8zdAYFqAwATIAu//2hMva0jgBtfvtkjgVEScCXwRg+f/2iqwcBftf1F/H5fnX4HAtACBCRAFjvF3bybLZQ0I3PD63RYJjHy3j2s5X8Tg+b/23oX+9r4bh/VPDOHNDrenbjmdaIgAAtsFCEyAKPAnwvs1UyrTFlhn/W6LBL5I6W+nar6IwfN/bX4OzK4d3PvP8hAWIvlHIDAtQGACRIEnCG/YN6QyTYH11u+2SOBWSoGvKeeLGDz/12aB3+S7HjJxzIjxT03bg+YPgsC0AIEN2DV+0KvyG1MUeJbgzEdSmZbAuut3WyTwbcgptPA1GAye/2uvwDHh0/dqIfZh+b8gMC1AYH1O9fdUvSfPuxIFPs5PIbxeWi5JS2D99bstEvg+ROBn+SIGz/+lMhOL34z4sPxfEJgWILA+7tkse2KQFEh3oT1P3jMurqhaYIP1uy0SeJpgz8stxW8I+YQvYvD8X5tPoYX7aB2EuBzL/wWBaQEC61PFvdO2v8ptxILB4Bffx2oZLP+3Es8HLsDzf/EcW+J84AqtfOCpgrj7YvWDuF+96vii43j+byV2IIvzgb/nem65i98K7cbyf/HXBPnAdgECG5I1rIj7WZmSkvL0OsaQgoxi40rEPJeKlzws3vvltjbO/0YoOZ6ZfdL6nrPmZDe479DiDz3871P57p+t75kZCQIbAwIbEJo5SUhurfvuu+/e2xKtZCqiCCE0LswoRvdH/XisKsDi8hAaVwSj0Snjo1EfUlG8F75V0Swr24c1xA/EVKIFQfy1lKuHtnvGvmhE1RCJK/e5j6obIvgCaFyFx0wYLQhzcSoIbAwIrE/NM8sTmUfGUyk9GUf1F/i27Br4Z97fLolr01BW3kndBb5t+2L3+v3u4z51QwS4BrYLEFifzJcVgaHAnowT+gt8s9Yl9B995tG5aP6g7gLfrF0C8/efIyCwU4DA+izvyTFYCtZ9mLtr6w+5CFmKeO2H6blZW9H9uW48VhVg8XdZaPwDF496Kjc3Q6ehe9mqH3K3ajRE4q270ILMbDTO+l7dw+fT/qvRMBHnfL5ka27mtoaHJrBtOxrn4PHWnWjBTi4eNmytFqtAYAUgMAGH09IWD383DWHFyvjm0ncWpaXNHonuT1uGxZNfMKgwchYar1zB/ViVlvb8iw02XLngHa7SiDnY0Fag8TvDF6EFy1ei8fSxGj18mZb2n+EfNNjww3feT0ubNr7BoYlMfAWNVy5H4yXD30IL+LF/nKbNTqffB2cSIDAZP6fk61f4pJPBEZ4db1Dh7o+0y8c8b9Cww+f6+/NSjuhXWPR37fIdKb/pN5zfS38/O3CW/n5/yrcGRwC0AYHJAIG1AIEdAwQmAwTWAgR2DBCYjJqSqH6FsMF7nS3Hb1Pj/BbSLmfwe8Q4JRH9/dGSGv0KwVLt8qqSOu0dMoEy/f3sKfw2NUZ9SYXBEQBtQGAAaMKAwADQhAGBiTg4fujSer0KyvThBqhK19tbNnXQ1LBGuf0929l1kj0DhoDAJNQ9VVD1olunApI+3AALRunsjKXm1b6/2omebe06uZ4BY0BgEnZPZtkd03UqIOnD2uyapPdm3vsSy9Zo3PGxv2c7u06yZ8AYEJiEzQtY9texOhXi6cMN4pt4UO/NvGnOm6Pna9yGtr9nG7tOtmfAGBCYhC+XcieMQ/TriOnDDRGbvveY3pv5y14/Vsyf60TP9nWddM+AMSAwCZsWch9GqXo15PThhkhfwuq+mdO589XD/Z3o2b6uk+4ZMAYEJmE3d7GWPV2nApI+rMXbAwb06zUg0OD+PO69fETjetL+nu3rOumeAWNAYBLqhh2pn7ZNpwKSPtwAup9GNYOKYu++7UTPtnadXM+AMSAwEUUTR+t+2iDpww2g/2Y+MP6JN7Tu59jfs51dJ9kzYAgIDABNGBAYAJowIDAANGFAYABowoDAANCEAYEBoAkDAgNAEwYEbo70cblcZ7Uan3i0ejqRbVvnynFiSIA9gMDNkT5dcnLcUy4YHi+4Z158EwRuVoDAzZE+j/I/p14YLwCBmysgcHNEFHje7+qCo6/648Mn2A4u1z/Ynx659A9d94HAzQsQuDnCC1z19dXd2e73ZuYNutkvfALf1G1bRpeOIHDzAgRujvQRFg++9UjO//i5c+Y/L+MFjs07yrKrLgGBmxcgcHOEv4mV81M9u9J1LofrdeETuOqLV3pfBAI3M0Dg5oh4DcyyX10mFXACh2/v8NaGNBC4mQECN0dkgT1nFbJsyR0FvMDrf+dj2dUgcDMDBG6OyAKzj7fZvK3rLXVsl3H+H1zLjq+9+nwGBG5WgMDNkbjAFWNaXvjoryy77OLH2dmXtehTfFNHELhZAQIDQBMGBAaAJgwIDABNGBAYAJowIDAANGFAYABowoDAANCEAYEBoAkDAgNAEwYEBoAmDAgMAE2Y/weVR8yEnQV0QAAAAABJRU5ErkJggg==" /><!-- --></p>
<p>It is clear from the plot above that sepals are indeed both longer and wider than petals, on each measured plant.</p>
</div>
<div id="melting-who-data-with-a-more-complex-pattern" class="section level2">
<h2>Melting WHO data with a more complex pattern</h2>
<p>Another data set where it is useful to do column name pattern matching followed by melting is the World Health Organization data:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="cf">if</span>(<span class="kw">requireNamespace</span>(<span class="st">&quot;tidyr&quot;</span>)){</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a>  <span class="kw">data</span>(who, <span class="dt">package=</span><span class="st">&quot;tidyr&quot;</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a>}<span class="cf">else</span>{</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a>  who &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">id=</span><span class="dv">1</span>, <span class="dt">new_sp_m5564=</span><span class="dv">2</span>, <span class="dt">newrel_f65=</span><span class="dv">3</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a>}</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a><span class="co">#&gt; Le chargement a nécessité le package : tidyr</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true"></a><span class="kw">names</span>(who)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true"></a><span class="co">#&gt;  [1] &quot;country&quot;      &quot;iso2&quot;         &quot;iso3&quot;         &quot;year&quot;         &quot;new_sp_m014&quot; </span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true"></a><span class="co">#&gt;  [6] &quot;new_sp_m1524&quot; &quot;new_sp_m2534&quot; &quot;new_sp_m3544&quot; &quot;new_sp_m4554&quot; &quot;new_sp_m5564&quot;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true"></a><span class="co">#&gt; [11] &quot;new_sp_m65&quot;   &quot;new_sp_f014&quot;  &quot;new_sp_f1524&quot; &quot;new_sp_f2534&quot; &quot;new_sp_f3544&quot;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true"></a><span class="co">#&gt; [16] &quot;new_sp_f4554&quot; &quot;new_sp_f5564&quot; &quot;new_sp_f65&quot;   &quot;new_sn_m014&quot;  &quot;new_sn_m1524&quot;</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true"></a><span class="co">#&gt; [21] &quot;new_sn_m2534&quot; &quot;new_sn_m3544&quot; &quot;new_sn_m4554&quot; &quot;new_sn_m5564&quot; &quot;new_sn_m65&quot;  </span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true"></a><span class="co">#&gt; [26] &quot;new_sn_f014&quot;  &quot;new_sn_f1524&quot; &quot;new_sn_f2534&quot; &quot;new_sn_f3544&quot; &quot;new_sn_f4554&quot;</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true"></a><span class="co">#&gt; [31] &quot;new_sn_f5564&quot; &quot;new_sn_f65&quot;   &quot;new_ep_m014&quot;  &quot;new_ep_m1524&quot; &quot;new_ep_m2534&quot;</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true"></a><span class="co">#&gt; [36] &quot;new_ep_m3544&quot; &quot;new_ep_m4554&quot; &quot;new_ep_m5564&quot; &quot;new_ep_m65&quot;   &quot;new_ep_f014&quot; </span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true"></a><span class="co">#&gt; [41] &quot;new_ep_f1524&quot; &quot;new_ep_f2534&quot; &quot;new_ep_f3544&quot; &quot;new_ep_f4554&quot; &quot;new_ep_f5564&quot;</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true"></a><span class="co">#&gt; [46] &quot;new_ep_f65&quot;   &quot;newrel_m014&quot;  &quot;newrel_m1524&quot; &quot;newrel_m2534&quot; &quot;newrel_m3544&quot;</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true"></a><span class="co">#&gt; [51] &quot;newrel_m4554&quot; &quot;newrel_m5564&quot; &quot;newrel_m65&quot;   &quot;newrel_f014&quot;  &quot;newrel_f1524&quot;</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true"></a><span class="co">#&gt; [56] &quot;newrel_f2534&quot; &quot;newrel_f3544&quot; &quot;newrel_f4554&quot; &quot;newrel_f5564&quot; &quot;newrel_f65&quot;</span></span></code></pre></div>
<p>Each column which starts with <code>new</code> has three distinct pieces of information encoded in its name: diagnosis type (e.g. sp or rel), gender (m or f), and age range (e.g. 5564 or 1524). We would like to use a regex to match these column names, then using the matching columns as measure.vars in a melt, then join the two results.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>new.diag.gender &lt;-<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a>  <span class="st">&quot;new_?&quot;</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a>  <span class="dt">diagnosis=</span><span class="st">&quot;.*&quot;</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a>  <span class="st">&quot;_&quot;</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a>  <span class="dt">gender=</span><span class="st">&quot;.&quot;</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a>nc<span class="op">::</span><span class="kw">capture_melt_single</span>(who, new.diag.gender, <span class="dt">ages=</span><span class="st">&quot;.*&quot;</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a><span class="co">#&gt;                          country   iso2   iso3  year diagnosis gender   ages</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a><span class="co">#&gt;                           &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;num&gt;    &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a><span class="co">#&gt;     1:               Afghanistan     AF    AFG  1997        sp      m    014</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true"></a><span class="co">#&gt;     2:               Afghanistan     AF    AFG  1998        sp      m    014</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true"></a><span class="co">#&gt;     3:               Afghanistan     AF    AFG  1999        sp      m    014</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true"></a><span class="co">#&gt;     4:               Afghanistan     AF    AFG  2000        sp      m    014</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true"></a><span class="co">#&gt;     5:               Afghanistan     AF    AFG  2001        sp      m    014</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true"></a><span class="co">#&gt;    ---                                                                      </span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true"></a><span class="co">#&gt; 76042:                  Viet Nam     VN    VNM  2013       rel      f     65</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true"></a><span class="co">#&gt; 76043: Wallis and Futuna Islands     WF    WLF  2013       rel      f     65</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true"></a><span class="co">#&gt; 76044:                     Yemen     YE    YEM  2013       rel      f     65</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true"></a><span class="co">#&gt; 76045:                    Zambia     ZM    ZMB  2013       rel      f     65</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true"></a><span class="co">#&gt; 76046:                  Zimbabwe     ZW    ZWE  2013       rel      f     65</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true"></a><span class="co">#&gt;        value</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true"></a><span class="co">#&gt;        &lt;num&gt;</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true"></a><span class="co">#&gt;     1:     0</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true"></a><span class="co">#&gt;     2:    30</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true"></a><span class="co">#&gt;     3:     8</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true"></a><span class="co">#&gt;     4:    52</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true"></a><span class="co">#&gt;     5:   129</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true"></a><span class="co">#&gt;    ---      </span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true"></a><span class="co">#&gt; 76042:  3110</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true"></a><span class="co">#&gt; 76043:     2</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true"></a><span class="co">#&gt; 76044:   360</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true"></a><span class="co">#&gt; 76045:   669</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true"></a><span class="co">#&gt; 76046:   725</span></span></code></pre></div>
<p>Note the output includes the new reshape column called <code>value</code> by default, as in <code>melt</code>. The input reshape column names which matched the specified pattern, and there is a new column for each group in that pattern. The following example shows how to rename the <code>value</code> column and use numeric type conversion functions:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a>years.pattern &lt;-<span class="st"> </span><span class="kw">list</span>(new.diag.gender, <span class="dt">ages=</span><span class="kw">list</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a>  <span class="dt">min.years=</span><span class="st">&quot;0|[0-9]{2}&quot;</span>, as.numeric,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a>  <span class="dt">max.years=</span><span class="st">&quot;[0-9]{0,2}&quot;</span>, <span class="cf">function</span>(x)<span class="kw">ifelse</span>(x<span class="op">==</span><span class="st">&quot;&quot;</span>, <span class="ot">Inf</span>, <span class="kw">as.numeric</span>(x))))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a>(who.typed &lt;-<span class="st"> </span>nc<span class="op">::</span><span class="kw">capture_melt_single</span>(</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a>  who, years.pattern,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true"></a>  <span class="dt">value.name=</span><span class="st">&quot;count&quot;</span>))</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true"></a><span class="co">#&gt;                          country   iso2   iso3  year diagnosis gender   ages</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true"></a><span class="co">#&gt;                           &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;num&gt;    &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true"></a><span class="co">#&gt;     1:               Afghanistan     AF    AFG  1997        sp      m    014</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true"></a><span class="co">#&gt;     2:               Afghanistan     AF    AFG  1998        sp      m    014</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true"></a><span class="co">#&gt;     3:               Afghanistan     AF    AFG  1999        sp      m    014</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true"></a><span class="co">#&gt;     4:               Afghanistan     AF    AFG  2000        sp      m    014</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true"></a><span class="co">#&gt;     5:               Afghanistan     AF    AFG  2001        sp      m    014</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true"></a><span class="co">#&gt;    ---                                                                      </span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true"></a><span class="co">#&gt; 76042:                  Viet Nam     VN    VNM  2013       rel      f     65</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true"></a><span class="co">#&gt; 76043: Wallis and Futuna Islands     WF    WLF  2013       rel      f     65</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true"></a><span class="co">#&gt; 76044:                     Yemen     YE    YEM  2013       rel      f     65</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true"></a><span class="co">#&gt; 76045:                    Zambia     ZM    ZMB  2013       rel      f     65</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true"></a><span class="co">#&gt; 76046:                  Zimbabwe     ZW    ZWE  2013       rel      f     65</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true"></a><span class="co">#&gt;        min.years max.years count</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true"></a><span class="co">#&gt;            &lt;num&gt;     &lt;num&gt; &lt;num&gt;</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true"></a><span class="co">#&gt;     1:         0        14     0</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true"></a><span class="co">#&gt;     2:         0        14    30</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true"></a><span class="co">#&gt;     3:         0        14     8</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true"></a><span class="co">#&gt;     4:         0        14    52</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true"></a><span class="co">#&gt;     5:         0        14   129</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true"></a><span class="co">#&gt;    ---                          </span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true"></a><span class="co">#&gt; 76042:        65       Inf  3110</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true"></a><span class="co">#&gt; 76043:        65       Inf     2</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true"></a><span class="co">#&gt; 76044:        65       Inf   360</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true"></a><span class="co">#&gt; 76045:        65       Inf   669</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true"></a><span class="co">#&gt; 76046:        65       Inf   725</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true"></a><span class="kw">str</span>(who.typed)</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true"></a><span class="co">#&gt; Classes &#39;data.table&#39; and &#39;data.frame&#39;:   76046 obs. of  10 variables:</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true"></a><span class="co">#&gt;  $ country  : chr  &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ...</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true"></a><span class="co">#&gt;  $ iso2     : chr  &quot;AF&quot; &quot;AF&quot; &quot;AF&quot; &quot;AF&quot; ...</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true"></a><span class="co">#&gt;  $ iso3     : chr  &quot;AFG&quot; &quot;AFG&quot; &quot;AFG&quot; &quot;AFG&quot; ...</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true"></a><span class="co">#&gt;  $ year     : num  1997 1998 1999 2000 2001 ...</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true"></a><span class="co">#&gt;  $ diagnosis: chr  &quot;sp&quot; &quot;sp&quot; &quot;sp&quot; &quot;sp&quot; ...</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true"></a><span class="co">#&gt;  $ gender   : chr  &quot;m&quot; &quot;m&quot; &quot;m&quot; &quot;m&quot; ...</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true"></a><span class="co">#&gt;  $ ages     : chr  &quot;014&quot; &quot;014&quot; &quot;014&quot; &quot;014&quot; ...</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true"></a><span class="co">#&gt;  $ min.years: num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true"></a><span class="co">#&gt;  $ max.years: num  14 14 14 14 14 14 14 14 14 14 ...</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true"></a><span class="co">#&gt;  $ count    : num  0 30 8 52 129 90 127 139 151 193 ...</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true"></a><span class="co">#&gt;  - attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt;</span></span></code></pre></div>
<p>Note in the code/result above that non-character captured output columns can be obtained by specifying type conversion functions in the pattern.</p>
</div>
<div id="melting-monthly-eurostat-data" class="section level2">
<h2>Melting monthly Eurostat data</h2>
<p>Another example is <a href="https://ec.europa.eu/eurostat">exchange rate data from Eurostat</a>. We first use read the entire data set into R:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>ert.gz &lt;-<span class="st"> </span><span class="kw">system.file</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a>  <span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;ert_eff_ic_m.tsv.gz&quot;</span>, <span class="dt">package=</span><span class="st">&quot;nc&quot;</span>, <span class="dt">mustWork=</span><span class="ot">TRUE</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a>ert.all &lt;-<span class="st"> </span>data.table<span class="op">::</span><span class="kw">fread</span>(ert.gz, <span class="dt">na.strings=</span><span class="st">&quot;:&quot;</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true"></a>ert.all[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true"></a><span class="co">#&gt;    exch_rt,unit,geo\\time 2020M07 2020M06 2020M05 2020M04</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true"></a><span class="co">#&gt;                    &lt;char&gt;   &lt;num&gt;   &lt;num&gt;   &lt;num&gt;   &lt;num&gt;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true"></a><span class="co">#&gt; 1:       NEER_EA19,I10,AT  100.00  100.00   100.0  100.00</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true"></a><span class="co">#&gt; 2:       NEER_EA19,I10,AU   88.50   88.39    86.3   83.46</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true"></a><span class="co">#&gt; 3:       NEER_EA19,I10,BE  100.00  100.00   100.0  100.00</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true"></a><span class="co">#&gt; 4:       NEER_EA19,I10,BG  100.00  100.00   100.0  100.00</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true"></a><span class="co">#&gt; 5:       NEER_EA19,I10,BR   38.49   39.94    38.0   40.45</span></span></code></pre></div>
<p>We see that the first column has some CSV data which we can parse via:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a>ert.first &lt;-<span class="st"> </span>ert.all[, <span class="dv">1</span>]</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a>csv.lines &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">sub</span>(<span class="st">&quot;</span><span class="ch">\\\\</span><span class="st">.*&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="kw">names</span>(ert.first)), ert.first[[<span class="dv">1</span>]])</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a>ert.first.dt &lt;-<span class="st"> </span>data.table<span class="op">::</span><span class="kw">fread</span>(<span class="dt">text=</span><span class="kw">paste</span>(csv.lines, <span class="dt">collapse=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a>ert.wide &lt;-<span class="st"> </span>data.table<span class="op">::</span><span class="kw">data.table</span>(ert.first.dt, ert.all[,<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true"></a>ert.wide[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true"></a><span class="co">#&gt;      exch_rt   unit    geo 2020M07 2020M06</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true"></a><span class="co">#&gt;       &lt;char&gt; &lt;char&gt; &lt;char&gt;   &lt;num&gt;   &lt;num&gt;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true"></a><span class="co">#&gt; 1: NEER_EA19    I10     AT  100.00  100.00</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true"></a><span class="co">#&gt; 2: NEER_EA19    I10     AU   88.50   88.39</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true"></a><span class="co">#&gt; 3: NEER_EA19    I10     BE  100.00  100.00</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true"></a><span class="co">#&gt; 4: NEER_EA19    I10     BG  100.00  100.00</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true"></a><span class="co">#&gt; 5: NEER_EA19    I10     BR   38.49   39.94</span></span></code></pre></div>
<p>The wide data table can then be melted:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>(ert.tall &lt;-<span class="st"> </span>nc<span class="op">::</span><span class="kw">capture_melt_single</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a>  ert.wide,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a>  <span class="dt">year=</span><span class="st">&quot;[0-9]{4}&quot;</span>, as.integer,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a>  <span class="st">&quot;M&quot;</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a>  <span class="dt">month=</span><span class="st">&quot;[0-9]{2}&quot;</span>, as.integer))</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a><span class="co">#&gt;         exch_rt   unit    geo  year month   value</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a><span class="co">#&gt;          &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;int&gt; &lt;int&gt;   &lt;num&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a><span class="co">#&gt;    1: NEER_EA19    I10     AT  2020     7  100.00</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true"></a><span class="co">#&gt;    2: NEER_EA19    I10     AU  2020     7   88.50</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true"></a><span class="co">#&gt;    3: NEER_EA19    I10     BE  2020     7  100.00</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true"></a><span class="co">#&gt;    4: NEER_EA19    I10     BG  2020     7  100.00</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true"></a><span class="co">#&gt;    5: NEER_EA19    I10     BR  2020     7   38.49</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true"></a><span class="co">#&gt;   ---                                            </span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true"></a><span class="co">#&gt; 2229: NEER_EA19    I10     BE  1994     1   99.07</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true"></a><span class="co">#&gt; 2230: NEER_EA19    I10     BG  1994     1 4808.49</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true"></a><span class="co">#&gt; 2231: NEER_EA19    I10     BR  1994     1 1225.11</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true"></a><span class="co">#&gt; 2232: NEER_EA19    I10     CA  1994     1   92.19</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true"></a><span class="co">#&gt; 2233: NEER_EA19    I10     CH  1994     1   83.43</span></span></code></pre></div>
<p>After that we can create a time variable and plot via</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a>ert.tall[, month.IDate <span class="op">:</span><span class="er">=</span><span class="st"> </span>data.table<span class="op">::</span><span class="kw">as.IDate</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a>  <span class="kw">sprintf</span>(<span class="st">&quot;%d-%d-15&quot;</span>, year, month))]</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a><span class="cf">if</span>(<span class="kw">require</span>(<span class="st">&quot;ggplot2&quot;</span>)){</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a>  <span class="kw">ggplot</span>()<span class="op">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true"></a>      <span class="dt">yintercept=</span>value),</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true"></a>      <span class="dt">color=</span><span class="st">&quot;grey&quot;</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true"></a>      <span class="dt">data=</span><span class="kw">data.frame</span>(<span class="dt">value=</span><span class="dv">100</span>))<span class="op">+</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true"></a>      month.IDate, value, <span class="dt">color=</span>geo),</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true"></a>      <span class="dt">data=</span>ert.tall[geo <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;CA&quot;</span>, <span class="st">&quot;US&quot;</span>, <span class="st">&quot;JP&quot;</span>, <span class="st">&quot;FR&quot;</span>)])<span class="op">+</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true"></a><span class="st">    </span><span class="kw">facet_grid</span>(exch_rt <span class="op">~</span><span class="st"> </span>.)<span class="op">+</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true"></a><span class="st">    </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true"></a><span class="st">    </span><span class="kw">theme</span>(<span class="dt">panel.spacing=</span>grid<span class="op">::</span><span class="kw">unit</span>(<span class="dv">0</span>, <span class="st">&quot;lines&quot;</span>))</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true"></a>}</span></code></pre></div>
<p><img src="data:image/png;base64,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p3QwQx3QJP0OpNSHNHtL0aPPRnL83//939tvv62+zc/Pf/XVVwHg0KFDzz//fDAYrK6uvvXWW8nzZPxghjpAWLhw4bp169SdXWl2IKU+dKG3FCP0WYFRKL2BPjtEpFB6A1RgFEoGoQKjUDIIFRiFkkGowCiUDEIFRqFkECqwdGltbfV4POS1yWT66KOPEl//4IMPjh49mryeO3cuCmG32y+66KIXXnghpTtSejlUYOly7bXXGlGFHpdeeumePXv27NmzadOm6dOn33PPPffff39G70jJJn052DcnKC0tnTJlCnl95ZVXnnfeeUuWLLnzzjvPPffcnu0YpVvoXxbMZDKt80m/0gAABFhJREFUWrWqsrLS4XDMmjXr5MmTy5YtKy8vHzhw4O9//3tyzZkzZ2666aZBgwZVVFT827/9m5o12mQyvf322+PGjbPb7eecc86mTZsAYPLkybt3737ggQeuvPJKctmpU6dmz55dWFhYVVW1YcOGVHt4ww03VFZWrlu3DgC+++67efPmlZWV5efnz5gxo7a2Nv6OLpfr5z//+dChQwsKCubOnXvixInu+J4o3UdPb6nOKhzHDR8+fNeuXTt27KioqLDZbI899tihQ4duu+02lmXb29tlWZ48eXJ1dfX27du3b99eXV09efJk9bODBw/esGHD/v37r7/+eqvV6vf7McY/+tGPnn766chrNm7cePDgwZ/+9Kc2my0YDMb04YEHHhg1ahR5PWfOnOuvvz7mgquvvnrx4sUY49GjR8+cOfP999//4IMPpk+frvYk8o6zZs2aMWPGhx9++Nlnny1evHjMmDHt7e3d/8VRukq/E9grr7xCXt99993qg3706FEA2L9///bt21mWPXbsGDleX1/PsuyHH35IPvvkk0+S42RH/XfffYfjBKZeQ9qsr6+P6UNSgd12220zZsyQZfnpp58+cuQIObhu3brS0lLyWr3jnj17TCaTqihRFMvKyl566aW0viNKt9Lv5mDqHviioiJ141NRURF5UVdXN2zYsLPOOou8HTp06NChQ+vq6shOjQsuuIAcLykp0Wt/8uTJ5IW6FzhVWlpaKioqEEJ333335s2bX3755UOHDn3wwQfx5R3q6uoEQSDpnwiiKDY2NnbtvpRM0O8EFkn85gsct7eAYRi1eJKRAihd1pXagf379994440ej2fatGkcxy1atOiWW26ZO3fuAw88EHNxQUFBeXl5U1NTOnekZJT+5eRIyujRo+vr61VXQUNDQ319/dixY7PWgfXr1x87duymm27avn37wYMH//GPfzz44INz5szRrJA0duzY5ubmuro68vbkyZNTp07dt29f1npLSUq/tmDxzJgxY+LEiYsWLfrNb36DMX7ooYcmTpx48cUXJ/gIwzBHjx7t6OgoLCzUu+ZPf/qT3++/884740+1tbWRAmjt7e0ffvjhU089de+995577rmtra08z7/55puXX375559//sgjj/h8vtOnT5eWlqp3HDFixPz58+fNm1dTU2M2m//zP//T4/Fk8+eAkpwengNmF47jduzYQV4/+uijV1xxBXnd0dEBAPv378cYt7a2Ll68uKysrLy8/MYbb2xtbY3/LPHdEyfHSy+9VFJScu2115Jrdu/eTa45deoUhJwcl1566YUXXkiOxzg51P8Iq9U6derU559/Xu3tE088UV5eXlxcvHDhwkOHDo0ePZo4EiPv6PV677zzziFDhhQWFs6bNy/ep0LpWeiOZgolg9A5GIWSQajAKJQMQgVGoWQQKjAKJYNQgVEoGYQKjELJIFRgFEoGoQKjUDIIFRiFkkGowCiUDPL/AXXAfk7yJ2iCAAAAAElFTkSuQmCC" /><!-- --></p>
<p>Another way to do it would be via</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>nc<span class="op">::</span><span class="kw">capture_melt_single</span>(ert.wide, <span class="dt">month.POSIXct=</span><span class="st">&quot;[0-9].*&quot;</span>, <span class="cf">function</span>(x){</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a>  <span class="kw">as.POSIXct</span>(<span class="kw">strptime</span>(<span class="kw">paste0</span>(x,<span class="st">&quot;15&quot;</span>), <span class="st">&quot;%YM%m%d&quot;</span>))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a>})</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a><span class="co">#&gt;         exch_rt   unit    geo month.POSIXct   value</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true"></a><span class="co">#&gt;          &lt;char&gt; &lt;char&gt; &lt;char&gt;         &lt;num&gt;   &lt;num&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true"></a><span class="co">#&gt;    1: NEER_EA19    I10     AT    1594796400  100.00</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true"></a><span class="co">#&gt;    2: NEER_EA19    I10     AU    1594796400   88.50</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true"></a><span class="co">#&gt;    3: NEER_EA19    I10     BE    1594796400  100.00</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true"></a><span class="co">#&gt;    4: NEER_EA19    I10     BG    1594796400  100.00</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true"></a><span class="co">#&gt;    5: NEER_EA19    I10     BR    1594796400   38.49</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true"></a><span class="co">#&gt;   ---                                              </span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true"></a><span class="co">#&gt; 2229: NEER_EA19    I10     BE     758617200   99.07</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true"></a><span class="co">#&gt; 2230: NEER_EA19    I10     BG     758617200 4808.49</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true"></a><span class="co">#&gt; 2231: NEER_EA19    I10     BR     758617200 1225.11</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true"></a><span class="co">#&gt; 2232: NEER_EA19    I10     CA     758617200   92.19</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true"></a><span class="co">#&gt; 2233: NEER_EA19    I10     CH     758617200   83.43</span></span></code></pre></div>
</div>
<div id="melting-into-multiple-output-columns-with-missing-input-columns" class="section level2">
<h2>Melting into multiple output columns with missing input columns</h2>
<p>What if the input data set has “missing” input columns?</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>iris.missing &lt;-<span class="st"> </span>iris[, <span class="kw">names</span>(iris) <span class="op">!=</span><span class="st"> &quot;Sepal.Length&quot;</span>]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="kw">head</span>(iris.missing)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a><span class="co">#&gt;   Sepal.Width Petal.Length Petal.Width Species</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true"></a><span class="co">#&gt; 1         3.5          1.4         0.2  setosa</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true"></a><span class="co">#&gt; 2         3.0          1.4         0.2  setosa</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true"></a><span class="co">#&gt; 3         3.2          1.3         0.2  setosa</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true"></a><span class="co">#&gt; 4         3.1          1.5         0.2  setosa</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true"></a><span class="co">#&gt; 5         3.6          1.4         0.2  setosa</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true"></a><span class="co">#&gt; 6         3.9          1.7         0.4  setosa</span></span></code></pre></div>
<p>In that case melting into multiple columns is an error by default:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>iris.pattern &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">column=</span><span class="st">&quot;.*&quot;</span>, <span class="st">&quot;[.]&quot;</span>, <span class="dt">dim=</span><span class="st">&quot;.*&quot;</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a>nc<span class="op">::</span><span class="kw">capture_melt_multiple</span>(iris.missing, iris.pattern)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a><span class="co">#&gt; Error in (function (subject.names, match.dt, no.match, fill = TRUE) : need dim=same count for each value, but have: Length=1 Width=2; please change pattern, edit input column names, or use fill=TRUE to output missing values</span></span></code></pre></div>
<p>The error message explains that the number of input columns for each value of <code>dim</code> must be the same, but there is one for <code>Length</code> and two for <code>Width</code>. To ignore the error and fill the output with missing values,</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>nc<span class="op">::</span><span class="kw">capture_melt_multiple</span>(iris.missing, iris.pattern, <span class="dt">fill=</span><span class="ot">TRUE</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a><span class="co">#&gt;        Species    dim Petal Sepal</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a><span class="co">#&gt;         &lt;fctr&gt; &lt;char&gt; &lt;num&gt; &lt;num&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a><span class="co">#&gt;   1:    setosa Length   1.4    NA</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a><span class="co">#&gt;   2:    setosa Length   1.4    NA</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a><span class="co">#&gt;   3:    setosa Length   1.3    NA</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true"></a><span class="co">#&gt;   4:    setosa Length   1.5    NA</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true"></a><span class="co">#&gt;   5:    setosa Length   1.4    NA</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true"></a><span class="co">#&gt;  ---                             </span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true"></a><span class="co">#&gt; 296: virginica  Width   2.3   3.0</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true"></a><span class="co">#&gt; 297: virginica  Width   1.9   2.5</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true"></a><span class="co">#&gt; 298: virginica  Width   2.0   3.0</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true"></a><span class="co">#&gt; 299: virginica  Width   2.3   3.4</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true"></a><span class="co">#&gt; 300: virginica  Width   1.8   3.0</span></span></code></pre></div>
<p>Note the missing values in the table above, which correspond to the missing input column in the original/wide data set.</p>
</div>
<div id="multiple-output-columns-of-different-types" class="section level2">
<h2>Multiple output columns of different types</h2>
<p>Some real-world data sets can be reshaped into output columns with different types. An example data set from the <a href="https://lftdi.camden.rutgers.edu/repository/PROVEDIt_1-5-Person%20CSVs%20Filtered.zip">PROVEDIt</a> benchmark in criminology:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a>peaks.csv &lt;-<span class="st"> </span><span class="kw">system.file</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a>  <span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;RD12-0002_PP16HS_5sec_GM_F_1P.csv&quot;</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a>  <span class="dt">package=</span><span class="st">&quot;nc&quot;</span>, <span class="dt">mustWork=</span><span class="ot">TRUE</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a>peaks.wide &lt;-<span class="st"> </span>data.table<span class="op">::</span><span class="kw">fread</span>(peaks.csv)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a><span class="kw">print</span>(data.table<span class="op">::</span><span class="kw">data.table</span>(</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true"></a>  <span class="dt">names=</span><span class="kw">names</span>(peaks.wide),</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true"></a>  <span class="dt">class=</span><span class="kw">sapply</span>(peaks.wide, class)),</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true"></a>  <span class="dt">topn=</span><span class="dv">10</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true"></a><span class="co">#&gt;            names     class</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true"></a><span class="co">#&gt;           &lt;char&gt;    &lt;char&gt;</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true"></a><span class="co">#&gt;   1: Sample File character</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true"></a><span class="co">#&gt;   2:      Marker character</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true"></a><span class="co">#&gt;   3:         Dye character</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true"></a><span class="co">#&gt;   4:    Allele 1 character</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true"></a><span class="co">#&gt;   5:      Size 1   numeric</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true"></a><span class="co">#&gt;   6:    Height 1   integer</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true"></a><span class="co">#&gt;   7:    Allele 2 character</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true"></a><span class="co">#&gt;   8:      Size 2   numeric</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true"></a><span class="co">#&gt;   9:    Height 2   integer</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true"></a><span class="co">#&gt;  10:    Allele 3 character</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true"></a><span class="co">#&gt;  ---                      </span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true"></a><span class="co">#&gt; 294:   Height 97   logical</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true"></a><span class="co">#&gt; 295:   Allele 98   logical</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true"></a><span class="co">#&gt; 296:     Size 98   logical</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true"></a><span class="co">#&gt; 297:   Height 98   logical</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true"></a><span class="co">#&gt; 298:   Allele 99   logical</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true"></a><span class="co">#&gt; 299:     Size 99   logical</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true"></a><span class="co">#&gt; 300:   Height 99   logical</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true"></a><span class="co">#&gt; 301:  Allele 100   logical</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true"></a><span class="co">#&gt; 302:    Size 100   logical</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true"></a><span class="co">#&gt; 303:  Height 100   logical</span></span></code></pre></div>
<p>There are 303 columns, with info for 100 peaks. Each peak has three features: Allele=character, Size=numeric, and Height=integer. The ending peaks are class logical because they are all missing. These data can be reshaped via</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a>peaks.tall &lt;-<span class="st"> </span>nc<span class="op">::</span><span class="kw">capture_melt_multiple</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a>  peaks.wide,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a>  <span class="dt">column=</span><span class="st">&quot;.*&quot;</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true"></a>  <span class="st">&quot; &quot;</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true"></a>  <span class="dt">peak=</span><span class="st">&quot;[0-9]+&quot;</span>, as.integer,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true"></a>  <span class="dt">na.rm=</span><span class="ot">TRUE</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true"></a><span class="co">#&gt; Warning in melt.data.table(L[[&quot;data&quot;]], measure.vars = L[[&quot;measure.vars&quot;]], :</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true"></a><span class="co">#&gt; &#39;measure.vars&#39; [Allele 1, Allele 2, Allele 3, Allele 4, ...] are not all of the same</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true"></a><span class="co">#&gt; type. By order of hierarchy, the molten data value column will be of type &#39;character&#39;.</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true"></a><span class="co">#&gt; All measure variables not of type &#39;character&#39; will be coerced too. Check DETAILS in</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true"></a><span class="co">#&gt; ?melt.data.table for more on coercion.</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true"></a><span class="co">#&gt; Warning in melt.data.table(L[[&quot;data&quot;]], measure.vars = L[[&quot;measure.vars&quot;]], :</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true"></a><span class="co">#&gt; &#39;measure.vars&#39; [Height 1, Height 2, Height 3, Height 4, ...] are not all of the same</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true"></a><span class="co">#&gt; type. By order of hierarchy, the molten data value column will be of type &#39;integer&#39;. All</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true"></a><span class="co">#&gt; measure variables not of type &#39;integer&#39; will be coerced too. Check DETAILS in</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true"></a><span class="co">#&gt; ?melt.data.table for more on coercion.</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true"></a><span class="co">#&gt; Warning in melt.data.table(L[[&quot;data&quot;]], measure.vars = L[[&quot;measure.vars&quot;]], :</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true"></a><span class="co">#&gt; &#39;measure.vars&#39; [Size 1, Size 2, Size 3, Size 4, ...] are not all of the same type. By</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true"></a><span class="co">#&gt; order of hierarchy, the molten data value column will be of type &#39;double&#39;. All measure</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true"></a><span class="co">#&gt; variables not of type &#39;double&#39; will be coerced too. Check DETAILS in ?melt.data.table for</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true"></a><span class="co">#&gt; more on coercion.</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true"></a><span class="kw">options</span>(<span class="dt">width=</span><span class="dv">90</span>)</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true"></a><span class="kw">print</span>(peaks.tall)</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true"></a><span class="co">#&gt;                                Sample File  Marker    Dye  peak Allele Height   Size</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true"></a><span class="co">#&gt;                                     &lt;char&gt;  &lt;char&gt; &lt;char&gt; &lt;int&gt; &lt;char&gt;  &lt;int&gt;  &lt;num&gt;</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true"></a><span class="co">#&gt;   1: A02-RD12-0002-35-0.5PP16-001.5sec.fsa D3S1358      B     1     OL      5  94.68</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true"></a><span class="co">#&gt;   2: A02-RD12-0002-35-0.5PP16-001.5sec.fsa    TH01      B     1     OL      3 148.69</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true"></a><span class="co">#&gt;   3: A02-RD12-0002-35-0.5PP16-001.5sec.fsa  D21S11      B     1     OL      7 195.84</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true"></a><span class="co">#&gt;   4: A02-RD12-0002-35-0.5PP16-001.5sec.fsa  D18S51      B     1     OL      4 285.51</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true"></a><span class="co">#&gt;   5: A02-RD12-0002-35-0.5PP16-001.5sec.fsa Penta E      B     1     OL      3 369.36</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true"></a><span class="co">#&gt;  ---                                                                                </span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true"></a><span class="co">#&gt; 438: A02-RD12-0002-35-0.5PP16-001.5sec.fsa     FGA      Y    25     OL      5 413.28</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true"></a><span class="co">#&gt; 439: A02-RD12-0002-35-0.5PP16-001.5sec.fsa Penta E      B    26     OL      3 479.21</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true"></a><span class="co">#&gt; 440: A02-RD12-0002-35-0.5PP16-001.5sec.fsa     FGA      Y    26     OL      4 415.55</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true"></a><span class="co">#&gt; 441: A02-RD12-0002-35-0.5PP16-001.5sec.fsa     FGA      Y    27     OL      4 428.06</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true"></a><span class="co">#&gt; 442: A02-RD12-0002-35-0.5PP16-001.5sec.fsa     FGA      Y    28     OL      4 445.08</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true"></a><span class="kw">str</span>(peaks.tall)</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true"></a><span class="co">#&gt; Classes &#39;data.table&#39; and &#39;data.frame&#39;:   442 obs. of  7 variables:</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true"></a><span class="co">#&gt;  $ Sample File: chr  &quot;A02-RD12-0002-35-0.5PP16-001.5sec.fsa&quot; &quot;A02-RD12-0002-35-0.5PP16-001.5sec.fsa&quot; &quot;A02-RD12-0002-35-0.5PP16-001.5sec.fsa&quot; &quot;A02-RD12-0002-35-0.5PP16-001.5sec.fsa&quot; ...</span></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true"></a><span class="co">#&gt;  $ Marker     : chr  &quot;D3S1358&quot; &quot;TH01&quot; &quot;D21S11&quot; &quot;D18S51&quot; ...</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true"></a><span class="co">#&gt;  $ Dye        : chr  &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; ...</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true"></a><span class="co">#&gt;  $ peak       : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true"></a><span class="co">#&gt;  $ Allele     : chr  &quot;OL&quot; &quot;OL&quot; &quot;OL&quot; &quot;OL&quot; ...</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true"></a><span class="co">#&gt;  $ Height     : int  5 3 7 4 3 4 3 197 45 4 ...</span></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true"></a><span class="co">#&gt;  $ Size       : num  94.7 148.7 195.8 285.5 369.4 ...</span></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true"></a><span class="co">#&gt;  - attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt;</span></span></code></pre></div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
